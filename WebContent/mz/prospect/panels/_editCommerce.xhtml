<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:p="http://java.sun.com/jsf/html">

	<table width="100%">
		<tr valign="top">
			<td width="50%" valign="top">
				<fieldset>
					<legend> Proposition </legend>
					<ui:include src="../fields/_dateDevis.xhtml" />
					<a:outputPanel id="montantPanel">
						<s:decorate template="../../layout/display.xhtml"
							style="width:500px;"
							rendered="#{editProspectManager.prospect.statut != ST_PERDU}">
							<ui:define name="label">
								<h:outputText value="#{messages['prospect.montant']}" />
							</ui:define>
							<h:inputText id="montantOblig"
								value="#{editProspectManager.prospectDetail.montant}">
								<a:ajax event="change" render="buttonPanel" />
							</h:inputText>
						</s:decorate>

						<s:decorate template="../../layout/display.xhtml"
							style="width:500px;"
							rendered="#{editProspectManager.prospect.statut == ST_PERDU}">
							<ui:define name="label">
								<h:outputText value="#{messages['prospect.raisonPerte']}" />
							</ui:define>
							<h:selectOneMenu
								value="#{editProspectManager.prospectDetail.raisonPerte}"
								style="width:175px;">
								<a:ajax event="change" render="buttonPanel" />
								<f:selectItem itemValue="" />
								<f:selectItem itemValue="Autre" />
								<f:selectItem itemValue="Contenu" />
								<f:selectItem itemValue="Date" />
								<f:selectItem itemValue="DurÃ©e" />
								<f:selectItem itemValue="Lieu" />
								<f:selectItem itemValue="NSP" />
								<f:selectItem itemValue="Prix" />
							</h:selectOneMenu>
						</s:decorate>
					</a:outputPanel>
					<s:decorate template="../../layout/edit.xhtml" style="width:400px"
						rendered="#{('INTRA').equals(editProspectManager.prospect.prospectDetail.typeFormation)}">
						<ui:define name="label">#{messages['prospect.prixJour']}</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.prix_jour_animation}"
							style="width:80px; height:20px;" />
					</s:decorate>
					<s:decorate template="../../layout/edit.xhtml" style="width:400px">
						<ui:define name="label">#{messages['prospect.remise']}</ui:define>
						<h:inputText value="#{editProspectManager.prospectDetail.remise}"
							style="width:80px; height:20px;" />
					</s:decorate>
				</fieldset>
			</td>
			<td>
				<fieldset>
					<legend>OPCA</legend>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.opca']}" />
						</ui:define>
						<h:selectOneMenu
							value="#{editProspectManager.prospectDetail.opca}">
							<f:selectItem itemValue="" itemLabel="Choissisez parmi la liste" />
							<f:selectItem itemValue="oui" itemLabel="OUI" />
							<f:selectItem itemValue="non" itemLabel="NON" />
							<f:selectItem itemValue="je ne sais pas"
								itemLabel="Je ne sais pas" />
						</h:selectOneMenu>
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.nomOpca']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.nom_opca}" />
					</s:decorate>

				</fieldset>
			</td>
		</tr>
		<tr>
			<td><fieldset>
					<legend>Facturation</legend>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.pays']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.pays_factu}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.ville']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.ville_factu}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.adresse']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.adresse_factu}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.cp']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.cp_factu}" />
					</s:decorate>
				</fieldset></td>
			<td>
				<fieldset>
					<legend>Convocation</legend>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.pays']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.pays_convoc}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.ville']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.ville_convoc}" />
					</s:decorate>

					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.adresse']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.adresse_convoc}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.cp']}" />
						</ui:define>
						<h:inputText
							value="#{editProspectManager.prospectDetail.cp_convoc}" />
					</s:decorate>

				</fieldset>
			</td>
		</tr>
		<tr>
			<td>
				<fieldset>
					<legend> Actions commerciales </legend>
					<s:decorate template="../../layout/display.xhtml">
						<b><h:outputText value="#{messages['prospect.catalogue']} : " /></b>
						<h:outputText value="Oui"
							rendered="#{editProspectManager.prospect.prospectDetail.catalogue == 1}" />
						<h:outputText value="Non"
							rendered="#{editProspectManager.prospect.prospectDetail.catalogue == 0 or empty editProspectManager.prospect.prospectDetail.catalogue}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<b><h:outputText value="#{messages['prospect.news']} : " /></b>
						<h:outputText value="Oui"
							rendered="#{editProspectManager.prospect.prospectDetail.news == 1}" />
						<h:outputText value="Non"
							rendered="#{editProspectManager.prospect.prospectDetail.news == 0 or empty editProspectManager.prospect.prospectDetail.news}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<b><h:outputText value="#{messages['prospect.cial']} : " /></b>
						<h:outputText value="Oui"
							rendered="#{editProspectManager.prospect.prospectDetail.cial == 1}" />
						<h:outputText value="Non"
							rendered="#{editProspectManager.prospect.prospectDetail.cial == 0 or empty editProspectManager.prospect.prospectDetail.cial}" />
					</s:decorate>
					<s:decorate template="../../layout/display.xhtml">
						<ui:define name="label">
							<h:outputText value="#{messages['prospect.connaissance']}" />
						</ui:define>
						<h:outputText
							value="#{editProspectManager.prospect.prospectDetail.connaissance_site}" />
					</s:decorate>
				</fieldset>
			</td>
		</tr>
	</table>

</ui:composition>