<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" xmlns:a4j="http://richfaces.org/a4j"
	xmlns:p="http://java.sun.com/jsf/html">

	<rich:tabPanel switchType="client">
		<rich:tab header="Informations principales"
			onheaderclick="changePage('page1')">
			<rich:panel header="Informations sur la demande client : ">
				<table border="0" cellspacing="15">
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.dateCreation']}" />
								</ui:define>
								<h:outputText value="#{editProspectManager.prospect.dateCreation}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['devis.contactClient']}" />
								</ui:define>
								<h:outputText value="#{editProspectManager.prospect.nom}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.nomEntreprise']}</ui:define>
								<h:outputText value="#{editProspectManager.prospect.societe}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">#{messages['prospect.natureClient']}</ui:define>
								<h:outputText
									value="#{editProspectManager.prospectDetail.natureClient}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">#{messages['prospect.lieuEntreprise']}</ui:define>
								<h:outputText
									value="#{editProspectManager.prospectDetail.lieuEntreprise}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.participant']}</ui:define>
								<h:outputText
									value="#{editProspectManager.prospectDetail.nb_participants}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.typeFormation']}</ui:define>
								<h:outputText
									value="#{editProspectManager.prospectDetail.typeFormation}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px"
								rendered="#{!empty editProspectManager.prospectDetail.lieu}">
								<ui:define name="label">#{messages['prospect.lieu']}</ui:define>
								<h:outputText value="#{editProspectManager.prospectDetail.lieu}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.reference']}</ui:define>
								<s:link view="/mz/formation/formation.xhtml"
									action="#{formationManager.selectByReference}">
									<f:param name="ref"
										value="#{editProspectManager.prospect.reference}" />
									<s:conversationPropagation type="none" />
									<h:outputText value="#{editProspectManager.prospect.reference}" />
								</s:link>
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.dateSession']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.date}"
									rendered="#{!empty editProspectManager.prospect.prospectDetail.date}" />
								<h:outputText value="N/C"
									rendered="#{empty editProspectManager.prospect.prospectDetail.date}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.dateSouhait']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.date_souhaite}"
									rendered="#{!empty editProspectManager.prospect.prospectDetail.date_souhaite}" />
								<h:outputText value="N/C"
									rendered="#{empty editProspectManager.prospect.prospectDetail.date_souhaite}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.prixJour']}</ui:define>
								<h:outputText
									value="#{editProspectManager.prospectDetail.prix_jour_animation}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px">
								<ui:define name="label">#{messages['prospect.remise']}</ui:define>
								<h:outputText value="#{editProspectManager.prospectDetail.remise}"
									style="width:160px; height:20px;" />
							</s:decorate></td>
					</tr>
				</table>
				<table border="0" cellspacing="15">
					<tr>
						<td><s:decorate template="../layout/display.xhtml">
								<ui:define name="label">#{messages['prospect.remarques']}</ui:define>
								<h:outputText cols="200" rows="2"
									value="#{editProspectManager.prospect.commentaire}" />
							</s:decorate></td>
					</tr>
				</table>
			</rich:panel>
			<rich:panel header="Informations sur l'avavancement : ">
				<table border="0" cellspacing="15">
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:500px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.statut']}" />
								</ui:define>
								<h:outputText value="#{editProspectManager.prospect.statut}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:500px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.attribueA']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.commercial}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:500px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.montant']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.montant}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:500px;"
								rendered="#{editProspectManager.prospect.prospectDetail.raisonPerte != null}">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.raisonPerte']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.raisonPerte}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:500px;">
								<ui:define name="label">
									<h:outputText value="Date envoi devis" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.datedevis}"
									rendered="#{!empty editProspectManager.prospect.prospectDetail.datedevis}" />
								<h:outputText value="Non envoyé"
									rendered="#{empty editProspectManager.prospect.prospectDetail.datedevis}" />
							</s:decorate></td>
					</tr>
				</table>
			</rich:panel>
			<rich:panel header="Notes perso : "
				rendered="#{!empty editProspectManager.messages}">
				<center>
					<rich:dataTable value="#{editProspectManager.messages}" var="message"
						rowKeyVar="index">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Message n°" />
							</f:facet>
							<center>
								<h:outputText value="#{index+1}" />
							</center>
							<f:facet name="footer">
								<h:outputText value="Message n°" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['historique.date']}" />
							</f:facet>
							<h:outputText value="#{message.date}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT+1" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{messages['historique.date']}" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['message.emetteur']}" />
							</f:facet>
							<h:outputText value="#{message.account.nomComplet}" />
							<f:facet name="footer">
								<h:outputText value="#{messages['message.emetteur']}" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['historique.FormationCommentEvent']}" />
							</f:facet>
							<h:outputText value="#{message.libelle}" />
							<f:facet name="footer">
								<h:outputText
									value="#{messages['historique.FormationCommentEvent']}" />
							</f:facet>
						</rich:column>
					</rich:dataTable>
				</center>
			</rich:panel>
		</rich:tab>
		<rich:tab header="Suivi intra" onheaderclick="changePage('page2')"
			rendered="#{!empty editProspectManager.prospect.informationIntra}">
			<table border="0" cellspacing="3">
				<tr>
					<td><s:decorate template="../layout/display.xhtml"
							style="width:300px;">
							<ui:define name="label">
								<h:outputText value="#{messages['intra.statut']}" />
							</ui:define>
							<h:outputText
								value="#{editProspectManager.prospect.informationIntra.statutIntra}" />
						</s:decorate></td>
					<td><s:decorate template="../layout/display.xhtml"
							style="width:300px;">
							<ui:define name="label">
								<h:outputText value="Valider" />
							</ui:define>
							<b><h:outputText value="Oui"
									rendered="#{editProspectManager.prospect.informationIntra.valide == 1}"
									style="color:green;" /></b>
							<b><h:outputText value="Non"
									rendered="#{editProspectManager.prospect.informationIntra.valide == 0}"
									style="color:red;" /></b>
						</s:decorate></td>
				</tr>
				<tr>
					<td><s:decorate template="../layout/display.xhtml"
							style="width:800px;">
							<ui:define name="label">
								<h:outputText value="#{messages['intra.info']}" />
							</ui:define>
							<b><h:outputText style="color:red;"
									value="Votre demande est en cours de traitement, vous recevrez un mail quand le statut de votre demande évoluera."
									rendered="#{'Administrateur en recherche d’intervenant'.equals(editProspectManager.prospect.informationIntra.statutIntra)}" /></b>
							<b><h:outputText style="color:red;"
									value="Votre demande a été traitée, à vous de modifier son statut afin de faire évoluer votre demande d'intra."
									rendered="#{'Attente com'.equals(editProspectManager.prospect.informationIntra.statutIntra)}" /></b>
							<b><h:outputText style="color:red;"
									value="Vous avez modifié votre demande, elle est en cours de traitement, vous recevrez un mail quand le statut de votre demande évoluera."
									rendered="#{'Attente AD'.equals(editProspectManager.prospect.informationIntra.statutIntra)}" /></b>
							<b><h:outputText style="color:red;"
									value="Vous avez passé votre demande d'intra au statut annulé. Votre demande est en cours de traitement."
									rendered="#{'Annulé'.equals(editProspectManager.prospect.informationIntra.statutIntra) and editProspectManager.prospect.informationIntra.changementCom==1}" /></b>
							<b><h:outputText style="color:red;"
									value="L'annulation de votre demande d'intra à été validé."
									rendered="#{'Annulé'.equals(editProspectManager.prospect.informationIntra.statutIntra) and editProspectManager.prospect.informationIntra.changementAdminIntra==1}" /></b>
							<b><h:outputText style="color:red;"
									value="Votre demande est en cours de traitement. L'intervenant a été trouvé, nous sommes dans l'attente d'un accord entre lui et le client."
									rendered="#{'Attente Audit'.equals(editProspectManager.prospect.informationIntra.statutIntra) and editProspectManager.prospect.informationIntra.changementCom==1}" /></b>
							<b><h:outputText style="color:red;"
									value="Vous avez passé votre demande d'intra au statut confirmé. Votre demande est en cours de traitement."
									rendered="#{'Logistique'.equals(editProspectManager.prospect.informationIntra.statutIntra) and editProspectManager.prospect.informationIntra.changementCom==1}" /></b>
							<b><h:outputText style="color:red;"
									value="Votre demande d'intra a été passé au statut Logistique."
									rendered="#{'Logistique'.equals(editProspectManager.prospect.informationIntra.statutIntra) and editProspectManager.prospect.informationIntra.changementAdminIntra==1}" /></b>
						</s:decorate></td>
				</tr>
			</table>
			<br />
			<rich:collapsiblePanel header="Informations générales : "
				expanded="false" switchType="client">
				<table border="0" cellspacing="3">
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.dateCreation']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.informationIntra.dateCreation}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['intra.id']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.informationIntra.idInforamtionIntra}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.nomEntreprise']}" />
								</ui:define>
								<h:outputText value="#{editProspectManager.prospect.societe}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="Prob. transformation" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.informationIntra.probTransformation}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['intra.duree']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.informationIntra.duree}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.dateSouhait']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.date_souhaite}" />
							</s:decorate></td>
					</tr>
					<tr>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.lieu']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.lieu}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.ville']}" />
								</ui:define>
								<h:outputText value="#{editProspectManager.prospect.ville}" />
							</s:decorate></td>
						<td><s:decorate template="../layout/display.xhtml"
								style="width:400px;">
								<ui:define name="label">
									<h:outputText value="#{messages['prospect.participant']}" />
								</ui:define>
								<h:outputText
									value="#{editProspectManager.prospect.prospectDetail.nb_participants}" />
							</s:decorate></td>
					</tr>
				</table>
				<br />
				<rich:collapsiblePanel header="Adresse : " expanded="false"
					switchType="client"
					rendered="#{!'Logistique'.equals(editProspectManager.prospect.informationIntra.statutIntra)  and !'OK'.equals(editProspectManager.prospect.informationIntra.statutIntra)}">
					<table border="0" cellspacing="0">
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:600px;">
									<ui:define name="label">
										<h:outputText value="#{messages['prospect.nomEntreprise']}" />
									</ui:define>
									<h:outputText value="#{editProspectManager.prospect.societe}" />
								</s:decorate></td>
						</tr>
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:600px;">
									<ui:define name="label">
										<h:outputText value="#{messages['prospect.adresse']}" />
									</ui:define>
									<h:outputText value="#{editProspectManager.prospect.adresse}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:400px;">
									<ui:define name="label">
										<h:outputText value="#{messages['prospect.ville']}" />
									</ui:define>
									<h:outputText value="#{editProspectManager.prospect.ville}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:300px;">
									<ui:define name="label">
										<h:outputText value="#{messages['prospect.cp']}" />
									</ui:define>
									<h:outputText value="#{editProspectManager.prospect.cp}" />
								</s:decorate></td>
						</tr>
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:400px;">
									<ui:define name="label">
										<h:outputText value="#{messages['prospect.pays']}" />
									</ui:define>
									<h:outputText value="#{editProspectManager.prospect.pays}" />
								</s:decorate></td>
						</tr>
					</table>
				</rich:collapsiblePanel>
			</rich:collapsiblePanel>
			<br />
			<rich:collapsiblePanel header="Récapitulatif demande de formation : "
				expanded="false" switchType="client">
				<center>
					<rich:dataTable value="#{editProspectManager.prospect.formations}"
						var="formation" rowKeyVar="index" style="width:1000px"
						rendered="#{!'Annulé'.equals(editProspectManager.prospect.informationIntra.statutIntra)}">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['prospect.reference']}" />
							</f:facet>
							<h:outputText value="#{formation.formation.reference}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['prospect.libelleFormation']}" />
							</f:facet>
							<h:outputText value="#{formation.formation.libelle}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Durée en jour" />
							</f:facet>
							<h:outputText value="#{formation.formation.duree}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Durée souhaitée" />
							</f:facet>
							<h:outputText value="#{formation.dureeVoulu}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Dates souhaitées" />
							</f:facet>
							<center>
								<h:outputText value="#{formation.session}" style="width:120px" />
							</center>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Nb part." />
							</f:facet>
							<center>
								<h:outputText value="#{formation.participant}"
									style="width:30px" />
							</center>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Intervenant(s)" />
							</f:facet>
							<center>
								<rich:dataTable value="#{formation.intervenants}"
									var="intervenant" rowKeyVar="index" style="width:300px">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Nom - Prénom" />
										</f:facet>
										<h:outputText
											value="#{intervenant.intervenant.nom} - #{intervenant.intervenant.prenom}"
											rendered="#{intervenant.favori==1}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Tarif" />
										</f:facet>
										<h:outputText value="#{intervenant.tarif}"
											rendered="#{intervenant.favori==1}">
											<f:convertNumber currencySymbol="€" type="currency"
												locale="FR" />
										</h:outputText>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Note" />
										</f:facet>
										<h:outputText value="#{intervenant.note}"
											rendered="#{intervenant.favori==1}" />
									</rich:column>
								</rich:dataTable>
							</center>
						</rich:column>
					</rich:dataTable>
					<a:outputPanel
						rendered="#{!empty editProspectManager.prospect.informationIntra.intraReferenceSpe}">
						<rich:dataTable
							value="#{editProspectManager.prospect.informationIntra.intraReferenceSpe}"
							var="intraReferenceSpe" rowKeyVar="index" style="width:1000px">
							<rich:column>
								<f:facet name="header">
									<h:outputText value="#{messages['prospect.reference']}" />
								</f:facet>
								<h:outputText value="Spé" />
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="#{messages['prospect.libelleFormation']}" />
								</f:facet>
								<h:outputText value="#{intraReferenceSpe.referenceSpe.libelle}" />
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Durée souhaitée" />
								</f:facet>
								<h:outputText value="#{intraReferenceSpe.referenceSpe.duree}" />
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Dates souhaitées" />
								</f:facet>
								<center>
									<h:outputText value="#{intraReferenceSpe.referenceSpe.session}"
										style="width:120px" />
								</center>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Nb part." />
								</f:facet>
								<center>
									<h:outputText
										value="#{intraReferenceSpe.referenceSpe.participant}"
										style="width:30px" />
								</center>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Intervenant(s)" />
								</f:facet>
								<center>
									<rich:dataTable value="#{intraReferenceSpe.intervenants}"
										var="intervenant" rowKeyVar="index" style="width:300px">
										<rich:column>
											<f:facet name="header">
												<h:outputText value="Nom - Prénom" />
											</f:facet>
											<h:outputText
												value="#{intervenant.intervenant.nom} - #{intervenant.intervenant.prenom}"
												rendered="#{intervenant.favori==1}" />
										</rich:column>
										<rich:column>
											<f:facet name="header">
												<h:outputText value="Tarif" />
											</f:facet>
											<h:outputText value="#{intervenant.tarif}"
												rendered="#{intervenant.favori==1}">
												<f:convertNumber currencySymbol="€" type="currency"
													locale="FR" />
											</h:outputText>
										</rich:column>
										<rich:column>
											<f:facet name="header">
												<h:outputText value="Note" />
											</f:facet>
											<h:outputText value="#{intervenant.note}"
												rendered="#{intervenant.favori==1}" />
										</rich:column>
									</rich:dataTable>
								</center>
							</rich:column>
						</rich:dataTable>
					</a:outputPanel>
				</center>
				<br />
				<!-- Champs à afficher quand le statut = Annulé -->
				<a4j:outputPanel
					rendered="#{'Annulé'.equals(editProspectManager.prospect.informationIntra.statutIntra)}">
					<s:decorate template="../layout/display.xhtml" style="width:500px;">
						<center>
							<ui:define name="label">
								<h:outputText value="#{messages['prospect.raisonPerte']}" />
							</ui:define>
							<h:outputText
								value="#{editProspectManager.prospect.prospectDetail.raisonPerte}" />
						</center>
					</s:decorate>
				</a4j:outputPanel>
				<!-- Champs à afficher quand le statut = Logistique -->
				<a4j:outputPanel
					rendered="#{'Logistique'.equals(editProspectManager.prospect.informationIntra.statutIntra)  or 'OK'.equals(editProspectManager.prospect.informationIntra.statutIntra)}">
					<table border="0" cellspacing="3">
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Contact tech." />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.coordonneesContactTech}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Contact support" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.coordonneesContactsupport}" />
								</s:decorate></td>
						</tr>
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Frais ?" />
									</ui:define>
									<h:outputText value="Oui"
										rendered="#{editProspectManager.prospect.informationIntra.frais == 1}" />
									<h:outputText value="Non"
										rendered="#{editProspectManager.prospect.informationIntra.frais == 0}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Horaire de formation" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.heureDeb} - #{editProspectManager.prospect.informationIntra.heureFin}"
										rendered="#{!empty editProspectManager.prospect.informationIntra.heureDeb or empty editProspectManager.prospect.informationIntra.heureFin}" />
									<h:outputText value="N/C"
										rendered="#{empty editProspectManager.prospect.informationIntra.heureDeb and empty editProspectManager.prospect.informationIntra.heureFin}" />
								</s:decorate></td>
						</tr>
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Profil des participants" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.profilParticipant}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Env. technique" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.environnementTech}" />
								</s:decorate></td>
						</tr>
						<tr>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Connaissance sujet" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.connaissanceSujet}" />
								</s:decorate></td>
							<td><s:decorate template="../layout/display.xhtml"
									style="width:500px;">
									<ui:define name="label">
										<h:outputText value="Objectif" />
									</ui:define>
									<h:outputText
										value="#{editProspectManager.prospect.informationIntra.objectif}" />
								</s:decorate></td>
						</tr>
					</table>
					<rich:collapsiblePanel header="Adresse : " expanded="false"
						switchType="client">
						<table border="0" cellspacing="0">
							<tr>
								<td><s:decorate template="../layout/display.xhtml"
										style="width:600px;">
										<ui:define name="label">
											<h:outputText value="#{messages['prospect.nomEntreprise']}" />
										</ui:define>
										<h:outputText value="#{editProspectManager.prospect.societe}" />
									</s:decorate></td>
							</tr>
							<tr>
								<td><s:decorate template="../layout/display.xhtml"
										style="width:600px;">
										<ui:define name="label">
											<h:outputText value="#{messages['prospect.adresse']}" />
										</ui:define>
										<h:outputText value="#{editProspectManager.prospect.adresse}" />
									</s:decorate></td>
								<td><s:decorate template="../layout/display.xhtml"
										style="width:400px;">
										<ui:define name="label">
											<h:outputText value="#{messages['prospect.ville']}" />
										</ui:define>
										<h:outputText value="#{editProspectManager.prospect.ville}" />
									</s:decorate></td>
								<td><s:decorate template="../layout/display.xhtml"
										style="width:300px;">
										<ui:define name="label">
											<h:outputText value="#{messages['prospect.cp']}" />
										</ui:define>
										<h:outputText value="#{editProspectManager.prospect.cp}" />
									</s:decorate></td>
							</tr>
							<tr>
								<td><s:decorate template="../layout/display.xhtml"
										style="width:400px;">
										<ui:define name="label">
											<h:outputText value="#{messages['prospect.pays']}" />
										</ui:define>
										<h:outputText value="#{editProspectManager.prospect.pays}" />
									</s:decorate></td>
							</tr>
						</table>
					</rich:collapsiblePanel>
				</a4j:outputPanel>
			</rich:collapsiblePanel>
			<rich:collapsiblePanel header="Informations auxiliaires : "
				expanded="false" switchType="client">
				<ui:include src="../Intra/_infoAuxiliaireTable.xhtml" >
					<ui:param name="intra" value="#{editProspectManager.prospect.informationIntra}"/>
				</ui:include>
			</rich:collapsiblePanel>
			<br />
			<rich:collapsiblePanel header="Note Perso : " expanded="true"
				switchType="client">
				<center>
					<rich:dataTable value="#{editProspectManager.messages}" var="message"
						rowKeyVar="index">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Message n°" />
							</f:facet>
							<center>
								<h:outputText value="#{index+1}" />
							</center>
							<f:facet name="footer">
								<h:outputText value="Message n°" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['historique.date']}" />
							</f:facet>
							<h:outputText value="#{message.date}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="GMT+1" />
							</h:outputText>
							<f:facet name="footer">
								<h:outputText value="#{messages['historique.date']}" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{messages['message.emetteur']}" />
							</f:facet>
							<h:outputText value="#{message.account.nomComplet}" />
							<f:facet name="footer">
								<h:outputText value="#{messages['message.emetteur']}" />
							</f:facet>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['historique.FormationCommentEvent']}" />
							</f:facet>
							<h:outputText value="#{message.libelle}" cols="60" rows="2" />
							<f:facet name="footer">
								<h:outputText
									value="#{messages['historique.FormationCommentEvent']}" />
							</f:facet>
						</rich:column>
					</rich:dataTable>
				</center>
			</rich:collapsiblePanel>
		</rich:tab>
		<rich:tab header="Historique" onheaderclick="changePage('page3')"
			rendered="#{!empty editProspectManager.prospect.informationIntra}">
			<rich:dataTable id="historiqueList" value="#{editProspectManager.historique}" var="event" style="width:600px">
				<ui:include src="../common/historique.xhtml">
					<ui:param name="manager" value="#{searchProspect}" />
					<ui:param name="showFormation" value="#{false}" />
				</ui:include>
				
			</rich:dataTable>
		</rich:tab>
	</rich:tabPanel>
	<br />
	<center>
		<a:status>
			<f:facet name="stop" />
			<f:facet name="start">
				<h:graphicImage value="/img/load.gif" alt="Chargement ..."
					style="width:2%" />
			</f:facet>
		</a:status>
	</center>
	<br />
	<a4j:region id="visuModeFormClient">
		<center>
			<a4j:commandButton value="Editer"
				action="#{editProspectManager.setEditMode()}"
				oncomplete="loadPageClient();" render="prospectPanel,editFormClient"
				style="width:100px;height:30px;" />
			&nbsp;&nbsp;
			<a4j:commandButton value="Annuler"
				onclick="#{rich:component('popupModif')}.hide()"
				style="width:100px;height:30px;" />
		</center>
	</a4j:region>
</ui:composition>